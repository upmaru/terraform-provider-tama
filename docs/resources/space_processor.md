---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "tama_space_processor Resource - tama"
subcategory: ""
description: |-
  Manages a Tama Neural Space Processor resource
---

# tama_space_processor (Resource)

Manages a Tama Neural Space Processor resource

## Example Usage

```terraform
terraform {
  required_providers {
    tama = {
      source = "upmaru/tama"
    }
  }
}

provider "tama" {
  # Configuration will be provided via environment variables
  # TAMA_BASE_URL and TAMA_API_KEY
}

# Example space
resource "tama_space" "example" {
  name = "example-space"
  type = "root"
}

# Example model (assuming you have a source)
resource "tama_model" "example" {
  source_id  = "your-source-id"
  identifier = "mistral-small-latest"
  path       = "/chat/completions"
  parameters = jsonencode({
    temperature = 0.8
    max_tokens  = 1500
  })
}

# Example completion processor
resource "tama_space_processor" "completion" {
  space_id = tama_space.example.id
  model_id = tama_model.example.id

  completion_config {
    temperature = 0.1
    tool_choice = "auto"
    role_mappings = [
      {
        from = "user"
        to   = "human"
      },
      {
        from = "assistant"
        to   = "ai"
      },
      {
        from = "system"
        to   = "system"
      }
    ]
  }
}

# Example embedding processor
resource "tama_space_processor" "embedding" {
  space_id = tama_space.example.id
  model_id = tama_model.example.id

  embedding_config {
    max_tokens = 512
    templates = [
      {
        type    = "query"
        content = "Search Query: {text}"
      },
      {
        type    = "document"
        content = "Document Content: {text}"
      },
      {
        type    = "passage"
        content = "Passage: {text}"
      }
    ]
  }
}

# Example reranking processor
resource "tama_space_processor" "reranking" {
  space_id = tama_space.example.id
  model_id = tama_model.example.id

  reranking_config {
    top_n = 5
  }
}

# Outputs
output "completion_processor_id" {
  value = tama_space_processor.completion.id
}

output "completion_role_mappings" {
  description = "Role mappings configured for completion processor"
  value       = tama_space_processor.completion.completion_config[0].role_mappings
}

output "embedding_processor_id" {
  value = tama_space_processor.embedding.id
}

output "embedding_templates" {
  description = "Templates configured for embedding processor"
  value       = tama_space_processor.embedding.embedding_config[0].templates
}

output "reranking_processor_id" {
  value = tama_space_processor.reranking.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `model_id` (String) ID of the model this processor uses
- `space_id` (String) ID of the space this processor belongs to

### Optional

- `completion` (Block, Optional) Configuration for completion type processors (see [below for nested schema](#nestedblock--completion))
- `embedding` (Block, Optional) Configuration for embedding type processors (see [below for nested schema](#nestedblock--embedding))
- `reranking` (Block, Optional) Configuration for reranking type processors (see [below for nested schema](#nestedblock--reranking))

### Read-Only

- `id` (String) Processor identifier
- `type` (String) Type of processor (e.g., 'completion', 'embedding', 'reranking')

<a id="nestedblock--completion"></a>
### Nested Schema for `completion`

Optional:

- `parameters` (String) Additional parameters as JSON string (e.g., '{"max_tokens": 1000, "stop": ["\n"]}')
- `role_mappings` (Attributes List) Role mappings for conversation roles (see [below for nested schema](#nestedatt--completion--role_mappings))
- `temperature` (Number) Sampling temperature (default: 0.8)
- `tool_choice` (String) Tool choice strategy: required, auto, or any (default: required)

<a id="nestedatt--completion--role_mappings"></a>
### Nested Schema for `completion.role_mappings`

Required:

- `from` (String) Source role name
- `to` (String) Target role name



<a id="nestedblock--embedding"></a>
### Nested Schema for `embedding`

Optional:

- `max_tokens` (Number) Maximum number of tokens
- `templates` (Attributes List) Templates for embedding processing (see [below for nested schema](#nestedatt--embedding--templates))

<a id="nestedatt--embedding--templates"></a>
### Nested Schema for `embedding.templates`

Required:

- `content` (String) Template content
- `type` (String) Template type



<a id="nestedblock--reranking"></a>
### Nested Schema for `reranking`

Optional:

- `parameters` (String) Additional parameters as JSON string
